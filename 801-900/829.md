### 829. 连续整数求和

难度：Hard

相关话题：`数学`

给定一个正整数  `N` ，试求有多少组连续正整数满足所有数字之和为  `N` ?



**示** **例 1:** 





```

输入:

5
输出:

2
解释:

5 = 5 = 2 + 3，共有两组连续整数([5],[2,3])求和后为 5。
```


**示例 2:** 





```

输入:

9
输出:

3
解释:

9 = 9 = 4 + 5 = 2 + 3 + 4
```


**示例 3:** 





```

输入:

15
输出:

4
解释:

15 = 15 = 8 + 7 = 4 + 5 + 6 = 1 + 2 + 3 + 4 + 5
```


**说明:**  `1 <= N <= 10 ^ 9` 




-----

思路：

首先确定取值范围，从`1`遍历到`N`，途中存在`Math.floor(N/i)-Math.ceil(i/2)<0`时可以`break`。

例如：`N=21`，

当它取值为`6`个时(`6`个连续数字)，`21/6=3.5`，即这`6`个连续数字的平均值是`3.5`，`i`(6)是偶数，
因此平均值`3.5`前面还有`Math.ceil(6/2)`个数字，刚好从`1`开始。

如果取值为`7`，`21/7=3`，这7个连续数字平均值是`3`，因为`i`是奇数，因此这个平均值`3`前面还必须也有`Math.ceil(7/2)`个数字，
开头是从`0`开始，不符合要求，可以`break`了。

确定了取值范围后，接着就对范围内每一个值进行检查，对每一个值`i`，

必须满足`i`为偶数时，`N/i`为`.5`结尾或者`i`为奇数，`N/i`为整数。




```
/**
 * @param {number} N
 * @return {number}
 */
var consecutiveNumbersSum = function(N) {
  let res=0
  for(let i=1;i<=N;i++){
    let isEven=i % 2===0,isINT=N % i===0,isDecimal5=N % i===i/2
    if(Math.floor(N/i)-Math.ceil(i/2)<0)break
    if(isEven &amp;&amp; isDecimal5){
      res++
    }else if(!isEven &amp;&amp; isINT){
      res++
    }
  }
  return res
};



```

