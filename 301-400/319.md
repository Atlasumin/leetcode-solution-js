### 319. 灯泡开关

难度：Middle

相关话题：`脑筋急转弯`、`数学`

初始时有*n* 个灯泡关闭。 第 1 轮，你打开所有的灯泡。 第 2 轮，每两个灯泡你关闭一次。 第 3 轮，每三个灯泡切换一次开关（如果关闭则开启，如果开启则关闭）。第*i*  轮，每*i* 个灯泡切换一次开关。 对于第*n* 轮，你只切换最后一个灯泡的开关。 找出*n* 轮后有多少个亮着的灯泡。



**示例:** 



```
输入:3
输出: 1 
解释: 
初始时, 灯泡状态 [关闭, 关闭, 关闭].
第一轮后, 灯泡状态 [开启, 开启, 开启].
第二轮后, 灯泡状态 [开启, 关闭, 开启].
第三轮后, 灯泡状态 [开启, 关闭, 关闭]. 

你应该返回 1，因为只有一个灯泡还亮着。
```



-----

思路：

需要求满足`i*i<=n`的个数。

因为当一个数内部被按了双数次，相当于还是开，而被按了单数次，就是关。

例如`6`，当`i==2`的时候，它被按1次，当`i==3`，它被按1次，当`i==6`，它被按1次，总共3次，最后就是关。

只有`i^2`这种数 ，它才会被按双数次。

* 例如 `20`，它能被它本身整除，按的次数`+1`；

  接着它能被`2`整除，那么同样它也能被`10`整除，按的次数`+2`；
  
  接着它能被`4`整除，那么同样它也能被`5`整除，按的次数`+2`；
  
  因此最后是单数。

* 例如`25`，它能被它本身整除，按的次数`+1`；

  接着能被`5`整除，因为两个`5`重复，因此按的次数`+1`；
  
  最终还是双数。

```
/**
 * @param {number} n
 * @return {number}
 */
var bulbSwitch = function(n) {
  return Math.floor(Math.sqrt(n))
};
```

