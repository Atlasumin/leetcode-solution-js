### 779. 第K个语法符号

难度：Middle

相关话题：`递归`

在第一行我们写上一个  `0` 。接下来的每一行，将前一行中的 `0` 替换为 `01` ， `1` 替换为 `10` 。



给定行数 `N` 和序数  `K` ，返回第  `N`  行中第  `K` 个字符。（ `K` 从1开始）




**例子:** 





```
输入:

 N = 1, K = 1
输出:

 0

输入:

 N = 2, K = 1
输出:

 0

输入:

 N = 2, K = 2
输出:

 1

输入:

 N = 4, K = 5
输出:

 1

解释:


第一行: 0
第二行: 01
第三行: 0110
第四行: 01101001

```



**注意：** 




1.  `N` 的范围 `[1, 30]` .

2.  `K` 的范围 `[1, 2^(N-1)]` .






-----

思路：

这个数列有个规律，对于每一行，后一半是前一半的翻转值，例如前一半为`1001`，那么后一半就是`0110`。

定义一个变量`flip`表示当前是否反转，需要反转为`true`，不需要为`false`，从当前`N`一直减小到`1`，如果`K`在后半部分，那么`flip=!flip`并且`K`减少当前行一半的值。

到了`N`为`1`时，检查`flip`，如果需要反转则为`1`，不需要则为`0`。


```
/**
 * @param {number} N
 * @param {number} K
 * @return {number}
 */
var kthGrammar = function(N, K) {
  let flip=false
  while(N>1){
    let mid=Math.pow(2,N-1)/2
    if(K>mid){
      K-=mid
      flip=!flip
    }
    N--
  }
  return flip?1:0
};



```

