### 525. 连续数组

难度：Middle

相关话题：`哈希表`

给定一个二进制数组, 找到含有相同数量的 0 和 1 的最长连续子数组（的长度）。







 **示例 1:** 





```
输入:

 [0,1]
输出:

 2
说明:

 [0, 1] 是具有相同数量0和1的最长连续子数组。
```

 **示例 2:** 





```
输入:

 [0,1,0]
输出:

 2
说明:

 [0, 1] (或 [1, 0]) 是具有相同数量0和1的最长连续子数组。
```





 **注意:** 给定的二进制数组的长度不会超过50000。




-----

思路：

假设给定一个数组`[0,1,0,0,0,1]`，他们的前缀和是`[0,1,1,1,1,2]`

这并不能看出什么有效的信息，但如果将`0`替换成`1`后，变为`[-1,1,-1,-1,-1,1]`，他们的前缀和是`[-1,0,-1,-2,-3,-2]`

可以看出，当存在相同的前缀和时，说明这是一个`0`和`1`都相等的子数组。


```
/**
 * @param {number[]} nums
 * @return {number}
 */
var findMaxLength = function(nums) {
  let aux=nums.map(n=&gt;n===0?-1:1)
  let hash={0:-1},maxLen=0
  let sum=0
  for(let i=0;i&lt;aux.length;i++){
    sum+=aux[i]
    if(hash[sum]==null)hash[sum]=i
    else{
      maxLen=Math.max(maxLen,i-hash[sum])
    }
  }
  return maxLen
};



```
